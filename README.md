# attendable 2.1
No more DAIHEN. 簡単で確実な出席取りシステム

## Version
 - [v2.1](https://github.com/TetsuakiBaba/attendable/tree/main)
    - 出席コードをconfirmすると該当するユーザの現在までの出席回数と，出席コードを取得した日付も確認できるようにした
 - [v2.0](https://github.com/TetsuakiBaba/attendable/tree/v2.0)
   - 出欠時に自動でサーバサイドに出席コードを保存するように変更
 - [v1.0](https://github.com/TetsuakiBaba/attendable/tree/v1.0)
   - 最初のリリース．QRコードと暗号化された出席コードで出席を取るシステム


## 概要
大人数授業でどうしても出席を取らないといけないときに考えた、なるべく簡単且つちゃんと出席を取るためのシステムです。2年間の実践利用からこの度version2.0になることになりました。従来の以下の流れにをベースとしながら、学生のデジタルリテラシー格差を解消するために、サーバサイドの処理を増やしました。v1.0との主な違いは学生の出席コード保管を前提とするシステムではなく、あくまでバックアップのために学生が出席コードを保存しておくことにあります。従来システムでは学生は自身のすべての出席コードを手元に保管しておくことにしていましたが、これにより、誤って削除してしまった、携帯が壊れてバックアップがとれなかった、等の事故を回避することができます。学生が取得した出席コードは逐次サーバ上で保管されるため、授業終了後、学生に対しては出席一覧をフィードバックし、自身の認識と異なる場合に手元に保管した出席コードを利用して反論ができるシステムになっています。

以上を踏まえて使い方の流れは以下の通り。

1. 教員がQRコード（/admin/index.html）を提示する。このQRコードには暗号化されたタイムスタンプと授業名が含まれている
2. 学生は専用ウェブアプリ（/index.html）からスマホをかざしてQRコードを読み込む。
3. QRコードが生成されて任意時間以内であれば任意の文字列（タイムスタンプ,学修番号）を暗号化して、その文字列（出席コード）をもらう。
4. 学生は取得できた文字列（出席コード）を大事に保管する。出席コードはConfirmボタンから確認することができる。ついでにこれまでの出席回数や出席を取得した日付も確認できる。
5. 授業の通常回数を終了後、教員は出席コードをまとめて取得することができる。適時学生にフィードバックをして、出席の確認を行う。学生は自身の授業回数が自身の認識と異なる場合は該当する出席コードを利用して反論することができる。

## Getting Started
```
git clone https://github.com/TetsuakiBaba/attendable.git
cd attendable
echo '<?PHP key="your_secret_random_pass_phrase_key" ?>' > key.php
php -S localhost:8000
```
ブラウザでlocalhost:8000にアクセスすると利用できます。
 * /admin/index.html 教員用QRコード生成ページ
 * /index.html 学生用QRコード読み取りページ

## Deploy
PHPが動作するサーバにファイルをアップロードして利用してください。admin/ ディレクトリについてはそのままでは認証処理を行っていないため、適切な対策を行ってください。

## 利用している技術
 * PHP, SQLITE
 * HTML, CSS, JavaScript

## 利用しているライブラリ
 * [jsQR]()
 * [FileSaver.js]()
 * [tableexport.js]()
 * [bootstrap]()
 * [loadcsv.js]()